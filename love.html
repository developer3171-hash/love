<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Will You Marry Me üíñ</title>

<style>
body{
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:Poppins, sans-serif;
  background:linear-gradient(135deg,#ff9a9e,#fad0c4);
  overflow:hidden;
  touch-action: manipulation;
}

/* üì≥ Page shake */
.shake{
  animation:shake .4s;
}

@keyframes shake{
  0%{transform:translate(0,0);}
  20%{transform:translate(-10px,0);}
  40%{transform:translate(10px,0);}
  60%{transform:translate(-8px,0);}
  80%{transform:translate(8px,0);}
  100%{transform:translate(0,0);}
}

.card{
  background:#fff;
  padding:30px 40px;
  border-radius:20px;
  text-align:center;
  box-shadow:0 20px 40px rgba(0,0,0,.2);
  max-width:400px;
  width:90%;
  position:relative;
  z-index:2;
}

h1{color:#e91e63;}
p{color:#555;}

.buttons{
  display:flex;
  justify-content:center;
  gap:20px;
  margin-top:20px;
}

button{
  padding:12px 26px;
  border:none;
  border-radius:30px;
  font-size:16px;
  cursor:pointer;
  transition:all .3s ease;
  user-select:none;
}

#yesBtn{
  background:#4caf50;
  color:#fff;
}

#yesBtn:hover{transform:scale(1.1);}

#noBtn{
  background:#f44336;
  color:#fff;
  position:relative;
}

/* üíç Ring Ceremony */
.ring{
  font-size:80px;
  animation:ringPop 1s ease forwards;
}

@keyframes ringPop{
  0%{transform:scale(0);opacity:0;}
  60%{transform:scale(1.3);opacity:1;}
  100%{transform:scale(1);}
}

.glow{
  animation:glow 1.5s infinite alternate;
}

@keyframes glow{
  from{text-shadow:0 0 10px #ff69b4;}
  to{text-shadow:0 0 25px gold;}
}

/* ‚ùå Toast */
.toast{
  position:fixed;
  bottom:30px;
  left:50%;
  transform:translateX(-50%);
  background:#f44336;
  color:#fff;
  padding:12px 20px;
  border-radius:20px;
  font-size:14px;
  opacity:0;
  animation:toast 2s ease forwards;
  z-index:5;
}

@keyframes toast{
  0%{opacity:0;transform:translate(-50%,20px);}
  20%{opacity:1;transform:translate(-50%,0);}
  80%{opacity:1;}
  100%{opacity:0;transform:translate(-50%,-10px);}
}

/* ‚ù§Ô∏è Hearts */
.hearts{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:1;
}

.heart{
  position:absolute;
  font-size:24px;
  animation:floatUp 4s linear infinite;
}

@keyframes floatUp{
  from{transform:translateY(100vh);opacity:1;}
  to{transform:translateY(-10vh);opacity:0;}
}
</style>
</head>

<body>

<div class="card" id="card">
  <h1>Hey Love ‚ù§Ô∏è</h1>
  <p>You make my world brighter every day.<br>Will you marry me? üíç</p>

  <div class="buttons">
    <button id="yesBtn">Yes üíñ</button>
    <button id="noBtn">No üôà</button>
  </div>
</div>

<div class="hearts" id="hearts"></div>

<script>
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const card = document.getElementById("card");
const hearts = document.getElementById("hearts");
const body = document.body;

let stage = 0;
const isMobile = "ontouchstart" in window;

/* üíª DESKTOP BEHAVIOR */
if(!isMobile){
  noBtn.addEventListener("mouseenter", () => {
    if(stage === 0){
      noBtn.style.transform = "translateX(120px)";
      stage = 1;
      setTimeout(() => noBtn.style.position = "fixed", 300);
    }
  });

  document.addEventListener("mousemove", (e) => {
    if(stage !== 1) return;
    let x = e.clientX + 60;
    let y = e.clientY + 40;
    if(x > innerWidth - 120) x -= 120;
    if(y > innerHeight - 60) y -= 60;
    noBtn.style.left = x + "px";
    noBtn.style.top = y + "px";
  });
}

/* üì± MOBILE BEHAVIOR */
if(isMobile){
  noBtn.addEventListener("touchstart", (e) => {
    e.preventDefault();
    vibratePhone();
    showToast("‚ùå Not Possible üòè");
    shakePage();
  });
}

/* ‚ùå Block NO click */
noBtn.addEventListener("click", e => e.preventDefault());

/* üì≥ Vibration */
function vibratePhone(){
  if(navigator.vibrate){
    navigator.vibrate([400,100,400]);
  }
}

/* üì± Shake animation */
function shakePage(){
  body.classList.add("shake");
  setTimeout(() => body.classList.remove("shake"), 400);
}

/* üóØ Toast */
function showToast(msg){
  const toast = document.createElement("div");
  toast.className = "toast";
  toast.innerText = msg;
  document.body.appendChild(toast);
  setTimeout(()=>toast.remove(),2000);
}

/* üíç YES */
yesBtn.addEventListener("click", () => {
  card.innerHTML = `
    <h1 class="glow">She Said YES üíñ</h1>
    <div class="ring">üíç</div>
    <p>Ring ceremony complete ‚ú®<br>Our forever begins now ‚ù§Ô∏è</p>
  `;
  createHearts();
});

function createHearts(){
  for(let i=0;i<35;i++){
    const heart=document.createElement("div");
    heart.className="heart";
    heart.innerText="‚ù§Ô∏è";
    heart.style.left=Math.random()*100+"vw";
    heart.style.animationDuration=2+Math.random()*3+"s";
    hearts.appendChild(heart);
    setTimeout(()=>heart.remove(),5000);
  }
}
</script>

</body>
</html>
